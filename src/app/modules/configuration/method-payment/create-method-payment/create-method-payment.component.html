<!--begin::Modal content CREATE-->
<div class="modal-content">
  <!--begin::Modal header-->
  <div class="modal-header" id="kt_modal_add_user_header">
    <!--begin::Modal title-->
    <h2 class="fw-bolder">Crear Método de Pago</h2>
    <!--end::Modal title-->

    <!--begin::Close button-->
    <div
      class="btn btn-icon btn-sm btn-active-icon-primary"
      data-kt-users-modal-action="close"
      (click)="modal.dismiss()"
      aria-label="Cerrar modal"
    >
      <span class="svg-icon svg-icon-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="currentColor" />
          <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="currentColor" />
        </svg>
      </span>
    </div>
    <!--end::Close button-->
  </div>
  <!--end::Modal header-->

  <!--begin::Modal body-->
  <div class="modal-body scroll-y mx-5 my-7">
    <!--begin::Form-->
    <form
      id="kt_modal_add_payment_method_form"
      class="form"
      #paymentForm="ngForm"
      (ngSubmit)="store()"
      novalidate
    >
      <!--begin::Scroll container-->
      <div
        class="d-flex flex-column scroll-y me-n7 pe-7"
        id="kt_modal_add_user_scroll"
        data-kt-scroll="true"
        data-kt-scroll-activate="{default: false, lg: true}"
        data-kt-scroll-max-height="auto"
        data-kt-scroll-dependencies="#kt_modal_add_user_header"
        data-kt-scroll-wrappers="#kt_modal_add_user_scroll"
        data-kt-scroll-offset="300px"
      >

        <!--begin::Payment method name input-->
        <div class="fv-row mb-7">
          <label class="required fw-bold fs-6 mb-2" for="payment-name">
            Nombre del Método de Pago
          </label>
          <input
            type="text"
            id="payment-name"
            name="name"
            class="form-control form-control-solid mb-3 mb-lg-0"
            placeholder="Ingrese el nombre del método de pago"
            [(ngModel)]="name"
            #nameField="ngModel"
            required
            maxlength="100"
          />
          <div *ngIf="nameField.invalid && nameField.touched" class="text-danger mt-1">
            <small *ngIf="nameField.errors?.['required']">
              El nombre del método de pago es requerido
            </small>
          </div>
        </div>
        <!--end::Payment method name input-->

        <!--begin::Address input-->
        <div class="fv-row mb-7">
          <label class="fs-6 fw-semibold mb-2" for="payment-address">
            Dirección (Opcional)
          </label>
          <textarea
            id="payment-address"
            class="form-control form-control-solid"
            name="address"
            rows="3"
            [(ngModel)]="address"
            placeholder="Ingrese la dirección del método de pago"
            maxlength="500"
             #addressField="ngModel"
            required
             maxlength="100"
          ></textarea>
          <div class="form-text">
            Máximo 500 caracteres
          </div>
            <div *ngIf="addressField.invalid && addressField.touched" class="text-danger mt-1">
                              <small *ngIf="addressField.errors?.['required']">
                                la direccion del método de pago es requerido
                            </small>
                        </div>
        </div>
        <!--end::Address input-->

        <!--begin::Payment method selection-->

           </div>
                  <div class="fv-row mb-7">
                    <label class="required fw-bold fs-6 mb-2">Selecciona Metodo de Pago</label>
                      <select
                          class="form-control form-select-solid fw-bolder"
                          name="method_payment_id"
                          placeholder="Select el Metodo de Pago a crear"
                          [(ngModel)]="method_payment_id"
                      >
                      <option value="">NINGUNO</option>
                      <ng-container *ngFor="let METHOD_PAYMENT of METHOD_PAYMENTS">
                          <option [value]="METHOD_PAYMENT.id">{{ METHOD_PAYMENT.name }}</option>
                      </ng-container>
                </select>
            </div>
        <!--end::Payment method selection-->


      <!--end::Scroll container-->

      <!--begin::Form actions-->
      <div class="text-center pt-15">
        <button
          type="button"
          class="btn btn-light me-3"
          (click)="modal.dismiss()"
          [disabled]="isLoading | async"
        >
          Cancelar
        </button>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="paymentForm.invalid || (isLoading | async)"
          data-kt-users-modal-action="submit"
        >
          <span class="indicator-label" *ngIf="!(isLoading | async)">
            Registrar
          </span>

          <span class="indicator-progress" *ngIf="isLoading | async">
            Registrando...
            <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
          </span>
        </button>
      </div>
      <!--end::Form actions-->

    </form>
    <!--end::Form-->
  </div>
  <!--end::Modal body-->
</div>
<!--end::Modal content CREATE-->
